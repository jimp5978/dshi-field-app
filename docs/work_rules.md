# DSHI Field Pad App 작업 지침

## 기본 작업 원칙

### 0. 문서 참조 원칙
- **평상시**: `development.md`만 읽기
- **작업 방식 확인 필요시**: `work_rules.md` 참조
- 토큰 효율성을 위한 선택적 참조

### 1. 작업 승인
- **모든 작업 전 반드시 동의 받기**
- 명시적으로 지시받은 사항만 진행
- 임의 진행 금지, 완료 후 대기

### 2. 폴더 구조
- **작업 경로**: `E:\DSHI_RPA\APP` 폴더 내에서만 작업
- 기존 파일 존재 여부 확인 후 작업 진행
- 필요한 파일만 읽고 편집/추가

### 3. 파일 관리
- **파일 크기 제한**: 각 파일 18KB 이하 유지
- 긴 내용은 여러 파일로 분할
- 긴 파일 작업시 2-3개로 나누어 진행

### 4. 문서 관리
- **development.md 필수 업데이트**: 작업 진행시마다 업데이트
- docs 폴더 파일들은 필요한 내용만 포함하여 용량 최소화
- 프로젝트 중요사항, 완료된 일, 해야할 일 기록

## 도구 사용 지침

### 5. MCP 도구 활용
- 테스트 진행시 MCP 도구 사용
- terminal, playwright 등 적절히 활용

### 6. 데이터베이스 작업
- MySQL 사용시 명령어 형식:
  ```
  { args: [ -u, root, -e, "SHOW DATABASES;" ], command: mysql }
  ```
- **중요**: SQL 문구는 반드시 양옆에 따옴표 필수

### 7. 개발 도구
- Python: pip, pytest, flake8 등 활용
- Node.js: npm, git 등 활용
- 성능 테스트: ab, wrk, locust 등 활용

## 작업 흐름

### 8. 표준 작업 순서
1. 기존 파일/폴더 상태 확인
2. 작업 계획 제시 및 승인 요청
3. 승인 후 작업 진행
4. development.md 업데이트
5. 완료 보고 및 대기

### 9. 코드 작성 원칙
- 기존 코드 구조 파악 후 작업
- 필요한 부분만 수정
- 테스트 가능한 단위로 진행

## 개발자 수준 고려사항

### 10. 코딩 복잡도
- **사용자 수준**: Python 문법 정도, 비개발자
- **Dart/Flutter**: 취약하므로 단순한 코드 작성
- **복잡한 로직 지양**: 이해하기 쉬운 구조 우선
- **주석 추가**: 코드 설명 상세히 작성
- **함수 분리**: 긴 함수보다 작은 함수들로 분할

### 11. 설명 방식
- 코드 작성 시 단계별 설명 제공
- 어려운 개념은 쉬운 예시로 설명
- 수정 사항은 변경 이유와 함께 설명

## 토큰 관리 및 대화 연속성

### 12. 토큰 절약 원칙
- 모든 문서와 대화에서 이모티콘 사용 금지
- 굵은 글씨(**text**), 장식 문자 최소화
- 필요한 정보만 간결하게 표현
- 중복 설명 제거, 핵심 내용만 유지

### 13. 토큰 한계 경고 (최우선 필수 지침)
- **토큰 한계 70-80% 도달시 반드시 경고 필수**
- 경고 메시지: "토큰 한계가 다가오고 있습니다. 현재 상태를 정리하고 새 대화를 시작하겠습니다."
- 경고 후 즉시 development.md 업데이트 및 현재 상태 정리
- 다음 대화에서 바로 이어갈 수 있도록 진행 상황 명확히 기록
- 이 지침은 다른 모든 작업보다 우선순위가 높음

### 14. 대화 연속성 관리
- 토큰 한계 근접시 현재 상태를 development.md에 업데이트
- 다음 대화에서 바로 이어갈 수 있도록 진행 상황 정리
- 새 대화 시작시 development.md 먼저 확인
- 장기 프로젝트는 주기적으로 문서 정리 필요

### 15. 새 대화 시작 기준
- 대화가 과도하게 길어졌을 때
- 토큰 사용량이 많아져 응답 속도 저하시
- 개발 단계가 완전히 마무리되었을 때
- 사용자가 피로감을 느낄 때

### 16. 상태 보존 방법
- 현재 작업 상황을 development.md에 체크리스트로 기록
- 다음 작업 계획을 명시
- 필수 파일 위치 및 상태 확인
- 미완료 작업과 완료 작업 구분

### 17. 경고 예시 메시지
"토큰 한계가 다가오고 있습니다. 현재 진행 상황을 development.md에 업데이트한 후 새 대화를 시작하겠습니다. 이어서 진행하시려면 새 대화에서 'DSHI Field Pad App 개발 계속 진행합니다'(이어서 진행하시려면 새 대화에서 'DSHI Field Pad App 개발 계속 진행합니다'라고 입력하세요."

---
작성일: 2025-07-09
업데이트: 선택적 참조 원칙, 개발 수준 고려사항, 토큰 관리 지침 추가
최종 업데이트: 2025-07-09 - 토큰 한계 경고 최우선 지침 추가