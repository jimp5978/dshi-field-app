# 📱 DSHI Field Pad App 개발 문서 (통합 정리 버전)

## 🧩 프로젝트 개요

| 항목       | 내용                                       |
|------------|--------------------------------------------|
| 목적       | 현장 작업자 대상 ASSEMBLY 공정 관리 모바일 앱 |
| 회사       | 동성중공업 (DSHI)                          |
| 개발 시작  | 2025-07-09 (재시작)                        |
| 배포 환경  | Android 태블릿/스마트폰                     |
| 기술 스택  | Flutter, Flask, MySQL                      |
| 개발 환경  | Android 에뮬레이터 / Windows 테스트용       |

---

## 🔐 권한 시스템 및 테스트 계정

### 레벨 및 기능 요약

| 레벨     | 사용자 유형     | 주요 기능                                                             |
|----------|----------------|------------------------------------------------------------------------|
| Level 1  | 외부업체        | ASSEMBLY 검색, LIST UP, 검사신청                                       |
| Level 2  | (미사용)        | 기능 없음                                                              |
| Level 3  | DSHI 현장직원   | Level 1 기능 + (롤백, PDF 보기, 엑셀 데이터 업로드, 검사신청 확인 등 기능 추가 예정)|
| Level 4~5| DSHI 관리직원   | 관리자용 기능 추가 예정                                                 |
| Admin    | 시스템 관리자   | 전체 기능 가능                                                       |

### 테스트 계정 정보

- 모든 계정은 아이디/비밀번호 동일  
- **Admin**: `a / a`  
- **Level 1**: `l1 / l1`  
- **Level 2**: `l2 / l2`  
- **Level 3**: `l3 / l3`  
- **Level 4**: `l4 / l4`  
- **Level 5**: `l5 / l5`

**생성 스크립트**: `backup_deleted/create_test_users.py`

---

## 📦 기능 요약 및 상태

| 기능                  | 해당 레벨        | 구현 상태     |
|-----------------------|------------------|----------------|
| 로그인 시스템         | 전체             | ✅ 완료         |
| ASSEMBLY 검색         | 전체             | ✅ 완료         |
| LIST UP 저장 및 관리  | 전체             | ✅ 완료         |
| 검사신청              | 전체             | ✅ 완료         |
| 공정 상태 표시        | 전체             | ❌ 미구현       |
| 데이터 업로드         | Level 3+         | ❌ 미구현       |
| 롤백 기능             | Level 3+         | ❌ 미구현       |
| PDF 도면 보기         | Level 3+         | ❌ 미구현       |
| 검사신청 확인         | Level 1, 3+      | ❌ 미구현       |
| 관리자 기능 대시보드  | Level 4~5        | ❌ 미구현       |

---

## 🛠️ 공정 관리 로직

- **7단계 공정**:  
  `Fit-up → NDE → VIDI → GALV → SHOT → PAINT → PACKING`

- **진행 규칙**:  
  - 순차 진행 필수  
  - 완료된 공정만 다음 단계 진행 가능

- **공정 생략 처리 규칙**:  
  - `"N/A"`, `"n/a"`, `"na"` 등 문자열 → 공정 생략으로 인식  
  - 빈 셀 → 미진행으로 간주 (생략 아님)  
  - N/A 처리 로직은 `import_data.py`에 구현됨

---

## 📂 핵심 파일 구성

### 데이터베이스 관련

- `assembly_data.xlsx`: ASSEMBLY 데이터 (`process`, `bom`, `arup`)
- `import_data.py`: 엑셀 데이터 → MySQL 입력 스크립트(assembly_data.xlsx의 arup시트 데이터 MySQL 입력완료)
- `setup_database.py`: DB 테이블 및 초기 설정
- `config.py`: DB 연결 정보 (User: `field_app_user` / Password: `F!eldApp_Pa$w0rd_2025#`)

### 백엔드 서버

- `flask_server.py`: Flask API 서버 (포트 5001)  
  - 엔드포인트: 로그인, 검색, 공정 업데이트, 롤백

### 프론트엔드 앱

- `dshi_field_app/`: Flutter 프로젝트  
  - 주요 파일: `main.dart`, `pubspec.yaml`, `login_screen.dart`, `assembly_search_screen.dart`

### 문서 및 리소스

- `docs/development.md`: 개발 로그 및 계획 문서
- `docs/work_rules.md`: 작업 협업 및 규칙 문서
- `image/`: 로고 및 UI 패턴 이미지 폴더

---

## 🚀 개발 진행 현황 (2025-07-10 기준)

| 항목                    | 진행도     |
|-------------------------|------------|
| UI 구조 및 레이아웃      | ✅ 완료     |
| 로그인 및 권한 시스템    | ✅ 완료     |
| 검사신청 기능 구현       | ✅ 완료     |
| 공정 관리 기능          | ❌ 미구현   |
| PDF / 엑셀 업로드        | ❌ 미구현   |
| 검사신청 확인 기능       | ❌ 미구현   |

---

## 🔭 향후 작업 계획

1. **ASSEMBLY 실제 데이터 연동 (Flask API)**
2. **검사신청 확인 기능 구현**
3. **Level 3+ 전용 기능 구현 (롤백, PDF, 엑셀 업로드)**
4. **리포트 / 알림 시스템 / 관리자 기능 추가**

---
